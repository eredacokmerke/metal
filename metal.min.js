function metal_init(e){function t(e,t,i,l,n){this.type=e,this.isaret=t,this.liste=i,this.secenek=l,this.icerik=n,this.ilkInput=1}function i(){for(var e=0;e<f.length;e++)a(e)}function l(e){for(var t=0;t<f.length;t++)t!=e&&a(t)}function n(e){var t=0,i=e.children.length,l="";if(0===i)l=e.innerHTML;else for(t=0;i>t;t++)l+=n(e.children[t]);return l}function a(e){f[e].liste.style.display="none",f[e].isaret.children[0].innerHTML=g}function s(e){f[e].liste.style.display="inline",f[e].isaret.children[0].innerHTML=b}var r,d="indeks",c="metal-icerik-div",o="metal-input-div",u="metal-output-div",p="metal-pointer-div",m="metal-input",v="metal-pointer",y="metal-text",h="metal-items",g="▼",b="▲",k="10px",N=document.getElementsByClassName("metal-div");r=void 0===e?!1:e.oneListVisible;for(var f=[],A=0;A<N.length;A++){var E=N[A].children[0],w=N[A].children[1];w.setAttribute(d,A);var C=N[A].getAttribute("metal-width");N[A].style.width=C+"px";var L=C-25,x=L+"px";if(E.className===o){var I=document.createElement("input");I.setAttribute("value",E.getAttribute(y)),I.className=m,I.setAttribute(d,A),I.style.width=x;var T=document.createElement("div");T.style.display="inline-block",T.style.verticalAlign="middle",T.style.width=x,T.appendChild(I),T.className=c,T.style.paddingRight=k;var H=document.createTextNode(g),M=document.createElement("output");M.style.cursor="pointer",M.className=v,M.appendChild(H),M.setAttribute(d,A);var B=document.createElement("div");B.style.display="inline-block",B.style.verticalAlign="middle",B.style.width="15px",B.className=p,B.appendChild(M),B.setAttribute(d,A),E.appendChild(T),E.appendChild(B),E.setAttribute(d,A),w.style.display="none";var O=new t(o,B,w,E,I);f.push(O)}else if(E.className===u){var I=document.createElement("input");I.setAttribute("value",E.getAttribute(y)),I.className=m,I.setAttribute(d,A),I.style.width=x,I.readOnly=!0,I.style.borderColor="transparent",I.style.cursor="pointer";var T=document.createElement("div");T.style.display="inline-block",T.style.verticalAlign="middle",T.style.width=x,T.appendChild(I),T.className=c,T.style.paddingRight=k;var H=document.createTextNode(g),M=document.createElement("output");M.style.cursor="pointer",M.className=v,M.appendChild(H),M.setAttribute(d,A);var B=document.createElement("div");B.style.display="inline-block",B.style.verticalAlign="middle",B.style.width="15px",B.className=p,B.appendChild(M),B.setAttribute(d,A),E.appendChild(T),E.appendChild(B),E.setAttribute(d,A),w.style.display="none";var O=new t(u,B,w,E,I);f.push(O)}}for(var R=0;R<f.length;R++)f[R].type===o?(f[R].liste.addEventListener("click",function(e){var t=this.getAttribute(d);f[t].icerik.value=n(e.target),a(t),f[t].ilkInput=1}),f[R].icerik.addEventListener("click",function(){var e=this.getAttribute(d);1===f[e].ilkInput&&(f[e].ilkInput=0,f[e].icerik.value="")}),f[R].isaret.addEventListener("click",function(){var e=this.getAttribute(d);"none"===f[e].liste.style.display?(s(e),r===!0&&l(e)):a(e)}),f[R].icerik.addEventListener("input",function(){var e=this.getAttribute(d),t=0;f[e].ilkInput=0;for(var i=f[e].liste.getElementsByTagName("li"),l=0;l<i.length;l++){var r=n(i[l]);-1===r.toLowerCase().indexOf(this.value.toLowerCase())?(i[l].style.opacity=0,i[l].style.display="none"):(i[l].style.opacity=1,i[l].style.display="",t=1),1===t?s(e):a(e)}})):f[R].type===u&&(f[R].liste.addEventListener("click",function(e){var t=this.getAttribute(d);f[t].icerik.value=n(e.target),a(t),f[t].ilkInput=1}),f[R].secenek.addEventListener("click",function(){var e=this.getAttribute(d);"none"===f[e].liste.style.display?(s(e),r===!0&&l(e)):a(e)}));window.onclick=function(e){e=e||window.event;{var t=e.target||e.srcElement;t.parentNode.id}t.parentNode.className!==o&&t.parentNode.className!==h&&t.parentNode.className!==u&&t.parentNode.className!==p&&t.parentNode.className!==c&&i()}}
