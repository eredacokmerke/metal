function metal_init(e){function t(e,t,i,l,n){this.type=e,this.isaret=t,this.liste=i,this.secenek=l,this.icerik=n,this.ilkInput=1}function i(){for(var e=0;e<N.length;e++)s(e)}function l(e){for(var t=0;t<N.length;t++)t!=e&&s(t)}function n(e){var t=0,i=e.children.length,l="";if(0===i)l=e.innerHTML;else for(t=0;i>t;t++)l+=n(e.children[t]);return l}function s(e){N[e].liste.style.display="none",N[e].isaret.children[0].innerHTML=b}function a(e){N[e].liste.style.display="inline",N[e].isaret.children[0].innerHTML=g}var r,d="indeks",c="metal-icerik-div",o="metal-input-div",u="metal-output-div",p="metal-pointer-div",y="metal-input",m="metal-pointer",v="metal-text",h="metal-items",b="▼",g="▲",k="10px",A=document.getElementsByClassName("metal-div");r=void 0===e?!1:e.oneListVisible;for(var N=[],f=0;f<A.length;f++){var w=A[f].children[0],E=A[f].children[1];E.setAttribute(d,f);var C=A[f].getAttribute("metal-width");A[f].style.width=C+"px";var L=C-25,x=L+"px";if(w.className===o){var I=document.createElement("input");I.setAttribute("value",w.getAttribute(v)),I.className=y,I.setAttribute(d,f),I.style.width=x,I.style.borderColor="grey",I.style.borderWidth="1px";var T=document.createElement("div");T.style.display="inline-block",T.style.verticalAlign="middle",T.style.width=x,T.appendChild(I),T.className=c,T.style.paddingRight=k;var M=document.createTextNode(b),H=document.createElement("output");H.style.cursor="pointer",H.className=m,H.appendChild(M),H.setAttribute(d,f);var S=document.createElement("div");S.style.display="inline-block",S.style.verticalAlign="middle",S.style.width="15px",S.className=p,S.appendChild(H),S.setAttribute(d,f),w.appendChild(T),w.appendChild(S),w.setAttribute(d,f),E.style.display="none";var B=new t(o,S,E,w,I);N.push(B)}else if(w.className===u){var I=document.createElement("input");I.setAttribute("value",w.getAttribute(v)),I.className=y,I.setAttribute(d,f),I.style.width=x,I.readOnly=!0,I.style.borderColor="transparent",I.style.borderWidth="1px",I.style.cursor="pointer",I.style.userSelect="none",I.style.webkitUserSelect="none",I.style.MozUserSelect="none",I.setAttribute("unselectable","on");var T=document.createElement("div");T.style.display="inline-block",T.style.verticalAlign="middle",T.style.width=x,T.appendChild(I),T.className=c,T.style.paddingRight=k;var M=document.createTextNode(b),H=document.createElement("output");H.style.cursor="pointer",H.className=m,H.appendChild(M),H.setAttribute(d,f);var S=document.createElement("div");S.style.display="inline-block",S.style.verticalAlign="middle",S.style.width="15px",S.className=p,S.appendChild(H),S.setAttribute(d,f),w.appendChild(T),w.appendChild(S),w.setAttribute(d,f),E.style.display="none";var B=new t(u,S,E,w,I);N.push(B)}}for(var O=0;O<N.length;O++)N[O].type===o?(N[O].liste.addEventListener("click",function(e){var t=this.getAttribute(d);N[t].icerik.value=n(e.target),s(t),N[t].ilkInput=1}),N[O].icerik.addEventListener("click",function(){var e=this.getAttribute(d);1===N[e].ilkInput&&(N[e].ilkInput=0,N[e].icerik.value="")}),N[O].isaret.addEventListener("click",function(){var e=this.getAttribute(d);"none"===N[e].liste.style.display?(a(e),r===!0&&l(e)):s(e)}),N[O].icerik.addEventListener("input",function(){var e=this.getAttribute(d),t=0;N[e].ilkInput=0;for(var i=N[e].liste.getElementsByTagName("li"),l=0;l<i.length;l++){var r=n(i[l]);-1===r.toLowerCase().indexOf(this.value.toLowerCase())?(i[l].style.opacity=0,i[l].style.display="none"):(i[l].style.opacity=1,i[l].style.display="",t=1),1===t?a(e):s(e)}})):N[O].type===u&&(N[O].liste.addEventListener("click",function(e){var t=this.getAttribute(d);N[t].icerik.value=n(e.target),s(t),N[t].ilkInput=1}),N[O].secenek.addEventListener("click",function(){var e=this.getAttribute(d);"none"===N[e].liste.style.display?(a(e),r===!0&&l(e)):s(e)}));window.onclick=function(e){e=e||window.event;{var t=e.target||e.srcElement;t.parentNode.id}t.parentNode.className!==o&&t.parentNode.className!==h&&t.parentNode.className!==u&&t.parentNode.className!==p&&t.parentNode.className!==c&&i()}}
