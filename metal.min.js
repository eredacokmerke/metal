function metal_init(e){function l(e,l,t,i,n,s){this.type=e,this.isaret=l,this.liste=t,this.secenek=i,this.icerik=n,this.ilkInput=1,this.secilenListeElemani=0,this.scrollIlk=0,this.scrollSon=parseInt(s),this.listeUzunlugu=parseInt(s)}function t(){for(var e=0;e<D.length;e++)r(e)}function i(e){for(var l=0;l<D.length;l++)l!=e&&s(l)}function n(e){var l=0,t=e.children.length,i="";if(0===t)i=e.innerHTML,0===i.length&&(i=e.value);else for(l=0;t>l;l++)i+=n(e.children[l]);return i}function s(e){D[e].liste.style.display="none",D[e].isaret.children[0].innerHTML=x,M.splice(M.indexOf(e),1),0===M.length&&(globalSeciliEleman=localSeciliEleman,globalSeciliListe=localSeciliListe,document.onkeydown=function(){return!0})}function r(e){D[e].liste.style.display="none",D[e].isaret.children[0].innerHTML=x,M.splice(M.indexOf(e),1),0===M.length&&(localSeciliListe=-1,localSeciliEleman=-1,globalSeciliListe=-1,globalSeciliEleman=-1,document.onkeydown=function(){return!0})}function c(e,l){if(D[e].liste.style.display="inline",D[e].isaret.children[0].innerHTML=H,l===A){var t=D[e].liste.children[0],i=t.children.length;v=i,document.onkeydown=u,o(D[e],0)}else if(l===C){var t=D[e].liste.children[0],i=t.children.length;v=i,document.onkeydown=u,o(D[e],-2)}else l===T&&(document.onkeydown=d,a(D[e],0));M.push(e)}function a(e,l){var t=e.secilenListeElemani,i=e.liste.children[0],n=i.children.length;if(i.children[t].className="",t+=l,0>t){t=n-1;var s=i.children[t].scrollHeight,r=s*t;i.scrollTop=r,e.scrollIlk=r-e.listeUzunlugu,e.scrollSon=r}else t===n&&(t=0,i.scrollTop=0,e.scrollIlk=0,e.scrollSon=e.listeUzunlugu);if(i.children[t].className=I,e.secilenListeElemani=t,localSeciliEleman=e.secilenListeElemani,1==l){var s=i.children[t].scrollHeight,r=s*(t+1);r>e.scrollSon&&(e.scrollIlk=e.scrollIlk+s,e.scrollSon=e.scrollSon+s,i.scrollTop=e.scrollIlk)}else if(-1==l){var s=i.children[t].scrollHeight,r=s*t;r<e.scrollIlk&&(e.scrollIlk=e.scrollIlk-s,e.scrollSon=e.scrollSon-s,i.scrollTop=e.scrollIlk)}}function o(e,l){var t=e.secilenListeElemani,i=e.liste.children[0],n=i.children.length;if(i.children[t].className="",t+=l,0>t?t=n-1:t===n&&(t=0),-1==l){if(0==y){y=v;var s=i.children[y-1].scrollHeight,r=s*y;i.scrollTop=r,e.scrollIlk=r-e.listeUzunlugu,e.scrollSon=r}}else 1==l&&y==v-1&&(y=-1,i.scrollTop=0,e.scrollIlk=0,e.scrollSon=e.listeUzunlugu);var c=i.children[t].style.opacity;if(-2==l){if(t=0,c=i.children[t].style.opacity,""===c||"1"===c)i.children[t].className=I,e.secilenListeElemani=t,y=0;else for(var a=0;"0"===c&&n-1>t;)t++,c=i.children[t].style.opacity,"1"===c&&(a=1,i.children[t].className=I,e.secilenListeElemani=t,y=0);e.scrollIlk=0,e.scrollSon=e.listeUzunlugu,i.scrollTop=e.scrollIlk}else if(0==l)if(""===c||"1"===c)i.children[t].className=I,e.secilenListeElemani=t,y=p(i);else for(var a=0;"0"===c&&n-1>t;)t++,c=i.children[t].style.opacity,"1"===c&&(a=1,i.children[t].className=I,e.secilenListeElemani=t,y=0);else if(""===c||"1"===c)i.children[t].className=I,e.secilenListeElemani=t,y+=l;else{for(var a=0;"0"===c&&n-1>t&&t>0;)t+=l,c=i.children[t].style.opacity,"1"===c&&(a=1,i.children[t].className=I,e.secilenListeElemani=t,y+=l);if(0===a)if(1===l)for(t=-1;"0"===c&&n-1>t;)t+=l,c=i.children[t].style.opacity,"1"===c&&(a=1,i.children[t].className=I,e.secilenListeElemani=t,y+=l);else for(t=n;"0"===c&&t>0;)t+=l,c=i.children[t].style.opacity,"1"===c&&(a=1,i.children[t].className=I,e.secilenListeElemani=t,y=v-1)}if(localSeciliEleman=e.secilenListeElemani,1==l){var s=i.children[t].scrollHeight,r=s*(y+1);r>e.scrollSon&&(e.scrollIlk=e.scrollIlk+s,e.scrollSon=e.scrollSon+s,i.scrollTop=e.scrollIlk)}else if(-1==l){var s=i.children[t].scrollHeight,r=s*y;r<e.scrollIlk&&(e.scrollIlk=e.scrollIlk-s,e.scrollSon=e.scrollSon-s,i.scrollTop=e.scrollIlk)}}function d(e){e=e||window.event;var l=M[M.length-1];if("38"==e.keyCode)e.preventDefault(),a(D[l],-1),localSeciliListe=l;else if("40"==e.keyCode)e.preventDefault(),a(D[l],1),localSeciliListe=l;else if("13"==e.keyCode){var i=D[l];i.icerik.value=n(i.liste.children[0].children[i.secilenListeElemani]),s(l)}else"27"==e.keyCode&&(e.preventDefault(),t())}function u(e){e=e||window.event;var l=M[M.length-1];if("38"==e.keyCode)e.preventDefault(),o(D[l],-1),localSeciliListe=l;else if("40"==e.keyCode)e.preventDefault(),o(D[l],1),localSeciliListe=l;else if("13"==e.keyCode){var i=D[l];i.icerik.value=n(i.liste.children[0].children[i.secilenListeElemani]),s(l)}else"27"==e.keyCode&&(e.preventDefault(),t())}function h(e){var l=e.parentElement.parentElement.getAttribute(f),t=e.getAttribute(f),i=D[l].liste.children[0];i.children[D[l].secilenListeElemani].className="",i.children[t].className=I,D[l].secilenListeElemani=parseInt(t),localSeciliEleman=D[l].secilenListeElemani,localSeciliListe=l,D[l].type==k&&(y=p(i))}function p(e){for(var l=e.children.length,t=0,i=0;l>i;i++){var n=e.children[i].style.opacity;if(""===n||"1"===n){if(e.children[i].className==I)break;t++}}return t}var m,y=0,v=0,f="indeks",g="metal-icerik-div",k="metal-input-div",E="metal-output-div",b="metal-pointer-div",S="metal-input",L="metal-pointer",N="metal-text",w="metal-items",I="metal-selected-item",A=0,C=2,T=1,x="▼",H="▲",U="10px",z=document.getElementsByClassName("metal-div");m=void 0===e?!1:e.oneListVisible;for(var D=[],M=[],O=0;O<z.length;O++){var V=z[O].children[0],B=z[O].children[1];B.setAttribute(f,O);for(var P=B.children[0],R=0;R<P.children.length;R++)P.children[R].setAttribute(f,R),P.children[R].onmouseover=function(){h(this)};var W=z[O].getAttribute("metal-width");z[O].style.width=W+"px";var _=W-25;if(_+="px",V.className===k){var j=document.createElement("input");j.setAttribute("value",V.getAttribute(N)),j.className=S,j.setAttribute(f,O),j.style.width=_,j.style.borderColor="transparent",j.style.borderWidth="1px";var q=document.createElement("div");q.style.display="inline-block",q.style.verticalAlign="middle",q.style.width=_,q.appendChild(j),q.className=g,q.style.paddingRight=U;var F=document.createTextNode(x),G=document.createElement("output");G.style.cursor="pointer",G.className=L,G.appendChild(F),G.setAttribute(f,O);var J=document.createElement("div");J.style.display="inline-block",J.style.verticalAlign="middle",J.style.width="15px",J.className=b,J.appendChild(G),J.setAttribute(f,O),V.appendChild(q),V.appendChild(J),V.setAttribute(f,O),B.style.display="none",B.children[0].style.width=W+"px";var K=window.getComputedStyle(B.children[0]).getPropertyValue("height");K=K.substring(0,K.length-2);var Q=new l(k,J,B,V,j,K);D.push(Q)}else if(V.className===E){var j=document.createElement("input");j.setAttribute("value",V.getAttribute(N)),j.className=S,j.setAttribute(f,O),j.style.width=_,j.readOnly=!0,j.style.borderColor="transparent",j.style.borderWidth="1px",j.style.cursor="pointer",j.style.userSelect="none",j.style.webkitUserSelect="none",j.style.MozUserSelect="none",j.setAttribute("unselectable","on");var q=document.createElement("div");q.style.display="inline-block",q.style.verticalAlign="middle",q.style.width=_,q.appendChild(j),q.className=g,q.style.paddingRight=U;var F=document.createTextNode(x),G=document.createElement("output");G.style.cursor="pointer",G.className=L,G.appendChild(F),G.setAttribute(f,O);var J=document.createElement("div");J.style.display="inline-block",J.style.verticalAlign="middle",J.style.width="15px",J.className=b,J.appendChild(G),J.setAttribute(f,O),V.appendChild(q),V.appendChild(J),V.setAttribute(f,O),B.style.display="none",B.children[0].style.width=W+"px";var K=window.getComputedStyle(B.children[0]).getPropertyValue("height");K=K.substring(0,K.length-2);var Q=new l(E,J,B,V,j,K);D.push(Q)}}for(var R=0;R<D.length;R++)D[R].type===k?(D[R].liste.addEventListener("click",function(e){var l=this.getAttribute(f);D[l].icerik.value=n(e.target),s(l),D[l].ilkInput=1}),D[R].icerik.addEventListener("click",function(){var e=this.getAttribute(f);1===D[e].ilkInput&&(D[e].ilkInput=0,D[e].icerik.value="")}),D[R].isaret.addEventListener("click",function(){var e=this.getAttribute(f);"none"===D[e].liste.style.display?(c(e,A),m===!0&&i(e)):s(e)}),D[R].icerik.addEventListener("input",function(){var e=this.getAttribute(f),l=0;D[e].ilkInput=0;for(var t=D[e].liste.getElementsByTagName("li"),i=0,r=0;r<t.length;r++){var a=n(t[r]);-1===a.toLowerCase().indexOf(this.value.toLowerCase())?(t[r].style.opacity=0,t[r].style.display="none"):(t[r].style.opacity=1,t[r].style.display="",l=1,i++)}1===l?c(e,C):s(e),v=i})):D[R].type===E&&(D[R].liste.addEventListener("click",function(e){var l=this.getAttribute(f);D[l].icerik.value=n(e.target),s(l),D[l].ilkInput=1}),D[R].secenek.addEventListener("click",function(){var e=this.getAttribute(f);"none"===D[e].liste.style.display?(c(e,T),m===!0&&i(e)):s(e)}));window.onclick=function(e){e=e||window.event;var l=e.target||e.srcElement,i=window.location.href+"#";i.toString()!==l.toString()&&l.parentNode.className!==k&&l.parentNode.className!==w&&l.parentNode.className!==E&&l.parentNode.className!==b&&l.parentNode.className!==g&&t()}}function getSelectedItem(){var e=[];return e.push(globalSeciliListe),e.push(globalSeciliEleman),e}var localSeciliEleman=-1,localSeciliListe=-1,globalSeciliEleman=-1,globalSeciliListe=-1;
