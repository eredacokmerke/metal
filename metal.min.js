function metal_init(e){function t(e,t,i,n,l){this.type=e,this.isaret=t,this.liste=i,this.secenek=n,this.icerik=l,this.ilkInput=1}function i(){for(var e=0;e<f.length;e++)a(e)}function n(e){for(var t=0;t<f.length;t++)t!=e&&a(t)}function l(e){var t=0,i=e.children.length,n="";if(0===i)n=e.innerHTML;else for(t=0;i>t;t++)n+=l(e.children[t]);return n}function a(e){f[e].liste.style.display="none",f[e].isaret.children[0].innerHTML=g}function s(e){f[e].liste.style.display="inline",f[e].isaret.children[0].innerHTML=k}var r,d="indeks",c="metal-icerik-div",o="metal-input-div",p="metal-output-div",u="metal-pointer-div",m="metal-input",v="metal-pointer",y="metal-text",h="metal-items",g="▼",k="▲",N="10px",b=document.getElementsByClassName("metal-div");r=void 0===e?!1:e.oneListVisible;for(var f=[],A=0;A<b.length;A++){var E=b[A].children[0],w=b[A].children[1];w.setAttribute(d,A);var L=b[A].getAttribute("metal-width");b[A].style.width=L+"px";var C=L-25,x=C+"px";if(E.className===o){var T=document.createElement("input");T.setAttribute("value",E.getAttribute(y)),T.className=m,T.setAttribute(d,A),T.style.width=x;var H=document.createElement("div");H.style.display="inline-block",H.style.verticalAlign="middle",H.style.width=x,H.appendChild(T),H.className=c,H.style.paddingRight=N;var I=document.createTextNode(g),M=document.createElement("output");M.style.cursor="pointer",M.className=v,M.appendChild(I),M.setAttribute(d,A);var B=document.createElement("div");B.style.display="inline-block",B.style.verticalAlign="middle",B.style.width="15px",B.className=u,B.appendChild(M),B.setAttribute(d,A),E.appendChild(H),E.appendChild(B),E.setAttribute(d,A),w.style.display="none";var R=new t(o,B,w,E,T);f.push(R)}else if(E.className===p){var T=document.createElement("p");T.innerHTML=E.getAttribute(y),T.className=m,T.setAttribute(d,A),T.style.margin="0",T.style.width=C,T.style.cursor="pointer";var H=document.createElement("div");H.style.display="inline-block",H.style.verticalAlign="middle",H.style.width=x,H.appendChild(T),H.className=c,H.style.paddingRight=N;var B=document.createElement("div");B.style.display="inline-block",B.style.verticalAlign="middle",B.style.width="15px",B.className=u;var I=document.createTextNode(g),M=document.createElement("output");M.style.cursor="pointer",M.className=v,M.appendChild(I),M.setAttribute(d,A),B.appendChild(M),B.setAttribute(d,A),E.appendChild(H),E.appendChild(B),E.setAttribute(d,A),w.style.display="none";var R=new t(p,B,w,E,T);f.push(R)}}for(var O=0;O<f.length;O++)f[O].type===o?(f[O].liste.addEventListener("click",function(e){var t=this.getAttribute(d);f[t].icerik.value=l(e.target),a(t),f[t].ilkInput=1}),f[O].icerik.addEventListener("click",function(){var e=this.getAttribute(d);1===f[e].ilkInput&&(f[e].ilkInput=0,f[e].icerik.value="")}),f[O].isaret.addEventListener("click",function(){var e=this.getAttribute(d);"none"===f[e].liste.style.display?(s(e),r===!0&&n(e)):a(e)}),f[O].icerik.addEventListener("input",function(){var e=this.getAttribute(d),t=0;f[e].ilkInput=0;for(var i=f[e].liste.getElementsByTagName("li"),n=0;n<i.length;n++){var r=l(i[n]);-1===r.toLowerCase().indexOf(this.value.toLowerCase())?(i[n].style.opacity=0,i[n].style.display="none"):(i[n].style.opacity=1,i[n].style.display="",t=1),1===t?s(e):a(e)}})):f[O].type===p&&(f[O].liste.addEventListener("click",function(e){var t=this.getAttribute(d);f[t].icerik.innerHTML=e.target.innerHTML,a(t),f[t].ilkInput=1}),f[O].secenek.addEventListener("click",function(){var e=this.getAttribute(d);"none"===f[e].liste.style.display?(s(e),r===!0&&n(e)):a(e)}));window.onclick=function(e){e=e||window.event;{var t=e.target||e.srcElement;t.parentNode.id}t.parentNode.className!==o&&t.parentNode.className!==h&&t.parentNode.className!==p&&t.parentNode.className!==u&&t.parentNode.className!==c&&i()}}
