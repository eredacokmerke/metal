function metal_init(e){function t(e,t,i,l,n){this.type=e,this.isaret=t,this.liste=i,this.secenek=l,this.icerik=n,this.ilkInput=1,this.secilenListeElemani=0}function i(){for(var e=0;e<T.length;e++)a(e)}function l(e){for(var t=0;t<T.length;t++)t!=e&&s(t)}function n(e){var t=0,i=e.children.length,l="";if(0===i)l=e.innerHTML,0===l.length&&(l=e.value);else for(t=0;i>t;t++)l+=n(e.children[t]);return l}function s(e){T[e].liste.style.display="none",T[e].isaret.children[0].innerHTML=S,D.splice(D.indexOf(e),1),0===D.length&&(globalSeciliEleman=localSeciliEleman,globalSeciliListe=localSeciliListe,document.onkeydown=function(){return!0})}function a(e){T[e].liste.style.display="none",T[e].isaret.children[0].innerHTML=S,D.splice(D.indexOf(e),1),0===D.length&&(localSeciliListe=-1,localSeciliEleman=-1,globalSeciliListe=-1,globalSeciliEleman=-1,document.onkeydown=function(){return!0})}function c(e,t){T[e].liste.style.display="inline",T[e].isaret.children[0].innerHTML=C,t===w?(document.onkeydown=u,d(T[e],0)):t===A&&(document.onkeydown=o,r(T[e],0)),D.push(e)}function r(e,t){var i=e.secilenListeElemani,l=e.liste.children[0],n=l.children.length;l.children[i].className="",i+=t,0>i?i=n-1:i===n&&(i=0),l.children[i].className=N,e.secilenListeElemani=i,localSeciliEleman=e.secilenListeElemani}function d(e,t){var i=e.secilenListeElemani,l=e.liste.children[0],n=l.children.length;l.children[i].className="",i+=t,0>i?i=n-1:i===n&&(i=0);var s=l.children[i].style.opacity;if(0===t)if(""===s||"1"===s)l.children[i].className=N,e.secilenListeElemani=i;else for(var a=0;"0"===s&&n-1>i;)i++,s=l.children[i].style.opacity,"1"===s&&(a=1,l.children[i].className=N,e.secilenListeElemani=i);else if(""===s||"1"===s)l.children[i].className=N,e.secilenListeElemani=i;else{for(var a=0;"0"===s&&n-1>i&&i>0;)i+=t,s=l.children[i].style.opacity,"1"===s&&(a=1,l.children[i].className=N,e.secilenListeElemani=i);if(0===a)if(1===t)for(i=-1;"0"===s&&n-1>i;)i+=t,s=l.children[i].style.opacity,"1"===s&&(a=1,l.children[i].className=N,e.secilenListeElemani=i);else for(i=n;"0"===s&&i>0;)i+=t,s=l.children[i].style.opacity,"1"===s&&(a=1,l.children[i].className=N,e.secilenListeElemani=i)}localSeciliEleman=e.secilenListeElemani}function o(e){e=e||window.event;var t=D[D.length-1];if("38"==e.keyCode)e.preventDefault(),r(T[t],-1),localSeciliListe=t;else if("40"==e.keyCode)e.preventDefault(),r(T[t],1),localSeciliListe=t;else if("13"==e.keyCode){var l=T[t];l.icerik.value=n(l.liste.children[0].children[l.secilenListeElemani]),s(t)}else"27"==e.keyCode&&(e.preventDefault(),i())}function u(e){e=e||window.event;var t=D[D.length-1];if("38"==e.keyCode)e.preventDefault(),d(T[t],-1),localSeciliListe=t;else if("40"==e.keyCode)e.preventDefault(),d(T[t],1),localSeciliListe=t;else if("13"==e.keyCode){var l=T[t];l.icerik.value=n(l.liste.children[0].children[l.secilenListeElemani]),s(t)}else"27"==e.keyCode&&(e.preventDefault(),i())}function m(e){var t=e.parentElement.parentElement.getAttribute(p),i=e.getAttribute(p),l=T[t].liste.children[0];l.children[T[t].secilenListeElemani].className="",l.children[i].className=N,T[t].secilenListeElemani=parseInt(i),localSeciliEleman=T[t].secilenListeElemani,localSeciliListe=t}var h,p="indeks",y="metal-icerik-div",v="metal-input-div",f="metal-output-div",g="metal-pointer-div",E="metal-input",b="metal-pointer",L="metal-text",k="metal-items",N="metal-selected-item",w=0,A=1,S="▼",C="▲",x="10px",I=document.getElementsByClassName("metal-div");h=void 0===e?!1:e.oneListVisible;for(var T=[],D=[],M=0;M<I.length;M++){var H=I[M].children[0],O=I[M].children[1];O.setAttribute(p,M);for(var B=O.children[0],R=0;R<B.children.length;R++)B.children[R].setAttribute(p,R),B.children[R].onmouseover=function(){m(this)};var U=I[M].getAttribute("metal-width");I[M].style.width=U+"px";var W=U-25;if(W+="px",H.className===v){var z=document.createElement("input");z.setAttribute("value",H.getAttribute(L)),z.className=E,z.setAttribute(p,M),z.style.width=W,z.style.borderColor="transparent",z.style.borderWidth="1px";var V=document.createElement("div");V.style.display="inline-block",V.style.verticalAlign="middle",V.style.width=W,V.appendChild(z),V.className=y,V.style.paddingRight=x;var _=document.createTextNode(S),j=document.createElement("output");j.style.cursor="pointer",j.className=b,j.appendChild(_),j.setAttribute(p,M);var q=document.createElement("div");q.style.display="inline-block",q.style.verticalAlign="middle",q.style.width="15px",q.className=g,q.appendChild(j),q.setAttribute(p,M),H.appendChild(V),H.appendChild(q),H.setAttribute(p,M),O.style.display="none",O.children[0].style.width=U+"px";var F=new t(v,q,O,H,z);T.push(F)}else if(H.className===f){var z=document.createElement("input");z.setAttribute("value",H.getAttribute(L)),z.className=E,z.setAttribute(p,M),z.style.width=W,z.readOnly=!0,z.style.borderColor="transparent",z.style.borderWidth="1px",z.style.cursor="pointer",z.style.userSelect="none",z.style.webkitUserSelect="none",z.style.MozUserSelect="none",z.setAttribute("unselectable","on");var V=document.createElement("div");V.style.display="inline-block",V.style.verticalAlign="middle",V.style.width=W,V.appendChild(z),V.className=y,V.style.paddingRight=x;var _=document.createTextNode(S),j=document.createElement("output");j.style.cursor="pointer",j.className=b,j.appendChild(_),j.setAttribute(p,M);var q=document.createElement("div");q.style.display="inline-block",q.style.verticalAlign="middle",q.style.width="15px",q.className=g,q.appendChild(j),q.setAttribute(p,M),H.appendChild(V),H.appendChild(q),H.setAttribute(p,M),O.style.display="none",O.children[0].style.width=U+"px";var F=new t(f,q,O,H,z);T.push(F)}}for(var R=0;R<T.length;R++)T[R].type===v?(T[R].liste.addEventListener("click",function(e){var t=this.getAttribute(p);T[t].icerik.value=n(e.target),s(t),T[t].ilkInput=1}),T[R].icerik.addEventListener("click",function(){var e=this.getAttribute(p);1===T[e].ilkInput&&(T[e].ilkInput=0,T[e].icerik.value="")}),T[R].isaret.addEventListener("click",function(){var e=this.getAttribute(p);"none"===T[e].liste.style.display?(c(e,w),h===!0&&l(e)):s(e)}),T[R].icerik.addEventListener("input",function(){var e=this.getAttribute(p),t=0;T[e].ilkInput=0;for(var i=T[e].liste.getElementsByTagName("li"),l=0;l<i.length;l++){var a=n(i[l]);-1===a.toLowerCase().indexOf(this.value.toLowerCase())?(i[l].style.opacity=0,i[l].style.display="none"):(i[l].style.opacity=1,i[l].style.display="",t=1)}1===t?c(e,w):s(e)})):T[R].type===f&&(T[R].liste.addEventListener("click",function(e){var t=this.getAttribute(p);T[t].icerik.value=n(e.target),s(t),T[t].ilkInput=1}),T[R].secenek.addEventListener("click",function(){var e=this.getAttribute(p);"none"===T[e].liste.style.display?(c(e,A),h===!0&&l(e)):s(e)}));window.onclick=function(e){e=e||window.event;var t=e.target||e.srcElement,l=window.location.href+"#";l.toString()!==t.toString()&&t.parentNode.className!==v&&t.parentNode.className!==k&&t.parentNode.className!==f&&t.parentNode.className!==g&&t.parentNode.className!==y&&i()}}function getSelectedItem(){var e=[];return e.push(globalSeciliListe),e.push(globalSeciliEleman),e}var localSeciliEleman=-1,localSeciliListe=-1,globalSeciliEleman=-1,globalSeciliListe=-1;
